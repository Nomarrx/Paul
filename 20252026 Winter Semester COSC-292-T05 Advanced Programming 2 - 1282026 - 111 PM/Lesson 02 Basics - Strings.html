<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="https://online.saskpolytech.ca/shared/sp-template/styles/SP-Global-2015.css"><link rel="stylesheet" type="text/css" href="https://online.saskpolytech.ca/shared/sp-template/styles/SP-bootstrap-grid.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script><script src="/shared/sp-template/scripts/jquery.ui.touch-punch.min.js"></script><link rel="stylesheet" type="text/css" href="https://online.saskpolytech.ca/shared/sp-template/styles/jquery-ui.min.css"><script src="https://online.saskpolytech.ca/shared/sp-template/scripts/snippets/accordion.js"></script><script>$(document).ready(function(){ $("h1:first").addClass("sr-only"); });</script><title>Lesson 02 Basics - Strings</title></head><body><h1>Lesson 02 Basics - Strings</h1><div class="row"><div class="col-sm-12"><h2 class="h2">Strings</h2><p class="lead">Quick highlights:</p><ul class="list"><li>Null-terminated <code>char[]</code> ("...\0")</li><li>Print with <code>%s</code>; manage buffer sizes</li></ul><hr><h3 class="h3">Details</h3>
<p>Wait a minute! C doesn’t have objects or a string primitive type, so how does it handle strings?</p>
<p>C can store strings in an array of char values. You can set a variable as an array by using square brackets after the variable name (not after the type!), so char myName[] = &quot;Chris&quot;; will create an array that is automatically sized to store the string &quot;Chris&quot;. What size is that? Take a guess and then let’s try the code to determine the size using the sizeof operator!</p>
<p>Try adding the following code in main:</p>
<p>	stringDemo();</p>
<p>Then above main, add the following stringDemo function:</p>
<br><pre><code class="language-c">void stringDemo()
{
	char myInitial = &#x27;c&#x27;; // single quotes for a character literal
	char myName[] = &quot;Chris&quot;; // Can initialize a string literal to a char []</code></pre>
<br><pre><code class="language-c">	printf(&quot;The value of myInitial is %c\n&quot;, myInitial);
	printf(&quot;The value of myName is %s\n&quot;, myName); // %s for string</code></pre>
<p>	// can use sizeof on an array defined in the current function</p>
<br><pre><code class="language-c">	printf(&quot;The size of myName is %zu\n&quot;, sizeof(myName));
}</code></pre>
<p>Run the program and you will see the size of myName is 6 bytes. Did you guess that, or did you guess 5 for C h r i s? Because strings aren’t objects, there is no length property, so C has to determine the length of strings in a different way. It adds one more character at the end storing the null terminator – the character with the ASCII value 0 (not the digit zero!), written as &#x27;\0&#x27;. So the array myName contains C h r i s \0.</p>
<p>All strings in C must have the null terminator. For instance, when printf uses the %s format specifier for a string, it knows it has reached the end of the string to print when it encounters the null terminator. So let’s try creating a string one character at a time by creating an array for it. Add the following code to stringDemo:</p>
<br><pre><code class="language-c">	char name2[5];</code></pre>
<p>	//name2 = &quot;John&quot;; // can&#x27;t do assignment</p>
<p>	name2[0] = &#x27;J&#x27;; // arrays start at 0 are referenced with []</p>
<p>	name2[1] = &#x27;e&#x27;;</p>
<p>	name2[2] = &#x27;a&#x27;;</p>
<p>	name2[3] = &#x27;n&#x27;;</p>
<p>	// You must remember to null terminate your strings</p>
<p>	name2[4] = &#x27;\0&#x27;;</p>
<br><pre><code class="language-c">	printf(&quot;The value of name2 is %s\n&quot;, name2);
	printf(&quot;The size of name2 is %zu\n&quot;, sizeof(name2));</code></pre>
<p>Note that if you create a character array first (like char name2[5];), you can’t just assign a string to it – you must assign one character at a time. Like in Java, arrays start at 0, and array elements are referenced with square brackets.</p>
<p>What happens if you comment out name2[4] = &#x27;\0&#x27;;? You will see that a bunch of garbage characters are printed out after “Jean” because C prints until it encounters a byte with the value 0 to end the string!</p>
<p>What happens if you change the assignment of name2[2] = &#x27;a&#x27;; to name2[2] = &#x27;\0&#x27;;? That’s right, the string will just print as “Je”, because the null terminator is encountered, so even though there are other array elements containing characters following it, they are ignored. The size of the array is unchanged since you declared it as being size 5, and the sizeof operator gets the size in bytes.</p>
</div></div></body></html>